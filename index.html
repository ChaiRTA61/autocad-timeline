<!DOCTYPE html>
<html>
<head>
  <title>Timeline งานเขียนแบบ</title>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <style>
    body { font-family: Arial; padding: 20px; }
    label, input { display: block; margin: 5px 0; }
    #timeline { height: 500px; margin-top: 30px; }
    table { margin-top: 20px; }
  </style>
</head>
<body>
  <h2>Timeline งานเขียนแบบ (กรอกข้อมูลเอง)</h2>

  <label>ชื่อโปรเจกต์: <input type="text" id="projectName"></label>
  <label>วันที่เริ่ม (YYYY-MM-DD): <input type="date" id="startDate"></label>
  <label>วันที่สิ้นสุด (YYYY-MM-DD): <input type="date" id="endDate"></label>
  <button onclick="addToTimeline()">เพิ่มงาน</button>

  <div id="timeline"></div>

  <script>
    google.charts.load("current", { packages: ["timeline"] });
    google.charts.setOnLoadCallback(initChart);

    let chart, dataTable;

    function initChart() {
      const container = document.getElementById("timeline");
      chart = new google.visualization.Timeline(container);
      dataTable = new google.visualization.DataTable();
      dataTable.addColumn({ type: "string", id: "งาน" });
      dataTable.addColumn({ type: "date", id: "เริ่ม" });
      dataTable.addColumn({ type: "date", id: "สิ้นสุด" });
      chart.draw(dataTable);
    }

    function addToTimeline() {
      const name = document.getElementById("projectName").value;
      const start = new Date(document.getElementById("startDate").value);
      const end = new Date(document.getElementById("endDate").value);

      if (!name || isNaN(start) || isNaN(end)) {
        alert("กรุณากรอกข้อมูลให้ครบ");
        return;
      }

      dataTable.addRow([name, start, end]);
      chart.draw(dataTable);
      clearInputs();
    }

    function clearInputs() {
      document.getElementById("projectName").value = "";
      document.getElementById("startDate").value = "";
      document.getElementById("endDate").value = "";
    }
  </script>
</body>
</html>
