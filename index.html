<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Timeline ‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö</title>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #timeline { height: 500px; margin-top: 30px; }
    #formSection label, #formSection input {
      display: block; margin: 5px 0; width: 100%;
    }
    #formSection {
      width: 300px; padding: 10px;
      background: #f4f4f4; border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    button { margin-top: 10px; }
  </style>
</head>
<body>

<h2>üìÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏•‡∏á Timeline</h2>
<div id="formSection">
  <label>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå: <input type="text" id="projectName"></label>
  <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°: <input type="date" id="startDate"></label>
  <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î: <input type="date" id="endDate"></label>
  <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: <input type="text" id="details" placeholder="‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1,2,3"></label>
  <label>‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô: <input type="text" id="owner"></label>
  <button onclick="addProject()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå</button>
</div>

<div id="timeline"></div>

<script>
  google.charts.load('current', { packages: ['timeline'] });
  google.charts.setOnLoadCallback(initChart);

  let chart, dataTable;
  let timelineData = [];

  function initChart() {
    const container = document.getElementById('timeline');
    chart = new google.visualization.Timeline(container);
    dataTable = new google.visualization.DataTable();
    dataTable.addColumn({ type: 'string', id: '‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå' });
    dataTable.addColumn({ type: 'string', role: 'tooltip', p: { html: true } });
    dataTable.addColumn({ type: 'date', id: '‡πÄ‡∏£‡∏¥‡πà‡∏°' });
    dataTable.addColumn({ type: 'date', id: '‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î' });
    drawChart();
  }

  function addProject() {
    const name = document.getElementById('projectName').value.trim();
    const start = document.getElementById('startDate').value;
    const end = document.getElementById('endDate').value;
    const details = document.getElementById('details').value.trim();
    const owner = document.getElementById('owner').value.trim();

    if (!name || !start || !end || !details || !owner) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
      return;
    }

    if (new Date(start) > new Date(end)) {
      alert("‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î");
      return;
    }

    const tooltip = `
      <div style="padding:10px; font-size:14px; line-height:1.4;">
        <strong>üìå ‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô:</strong> ${name}<br/>
        <strong>üë§ ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á:</strong> ${owner}<br/>
        <strong>üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong><br/>${details.replace(/,/g, "<br/>")}
      </div>
    `;

    timelineData.push([name, tooltip, new Date(start), new Date(end)]);
    drawChart();
  }

  function drawChart() {
    dataTable.removeRows(0, dataTable.getNumberOfRows());
    timelineData.forEach(row => {
      dataTable.addRow(row);
    });
    chart.draw(dataTable, {
      tooltip: { isHtml: true }
    });
  }
</script>

</body>
</html>
